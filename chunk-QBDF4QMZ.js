import{a as w}from"./chunk-MA4YKNQN.js";import{i as F,j as J,n as S,o as G}from"./chunk-HFIXB56D.js";import{B as u,Cb as y,Db as C,I as d,Ib as r,Jb as v,Kb as _,Lb as M,R as m,T as l,U as h,_a as s,ea as g,ob as f,oc as i,t as a,xc as p}from"./chunk-AGYQYQRX.js";var T=()=>[14],P=()=>[0,0],U=()=>({preserveDrawingBuffer:!0}),b=()=>({"line-color":"yellow","line-opacity":.75,"line-width":5});function j(n,L){n&1&&M(0,"mgl-geojson-source",1)(1,"mgl-layer",2),n&2&&(r("data",L),s(),r("paint",i(2,b)))}var E=(()=>{class n{constructor(){this.httpClient=g(w),this.geoJson$=this.httpClient.get("assets/data/hike.geo.json").pipe(a(o=>{let e=structuredClone(o),t=e.features[0].geometry.coordinates;return e.features[0].geometry.coordinates=[t[0]],{data:e,coordinates:t}}),m({bufferSize:1,refCount:!0})),this.updatedGeoJson$=this.geoJson$.pipe(h(({data:o,coordinates:e})=>u(200).pipe(l(0),a(t=>e[t]),a(t=>(o.features[0].geometry.coordinates.push(t),{center:t,data:structuredClone(o)})),d(e.length)))),this.updatedGeoJson=F(this.updatedGeoJson$,{initialValue:null}),this.center=p(()=>this.updatedGeoJson()?.center??null),this.data=p(()=>this.updatedGeoJson()?.data??null)}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275cmp=f({type:n,selectors:[["showcase-demo"]],decls:2,vars:10,consts:[["movingMethod","jumpTo",3,"mapStyle","zoom","center","centerWithPanTo","pitch","canvasContextAttributes"],["id","trace",3,"data"],["id","trace","type","line","source","trace",3,"paint"]],template:function(e,t){if(e&1&&(v(0,"mgl-map",0),y(1,j,2,3),_()),e&2){let c;r("mapStyle","https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL")("zoom",i(7,T))("center",t.center()??i(8,P))("centerWithPanTo",!0)("pitch",30)("canvasContextAttributes",i(9,U)),s(),C((c=t.data())?1:-1,c)}},dependencies:[G,J,S],styles:[`[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}
/*# sourceMappingURL=examples-UPBTEGPO.css.map */`]})}}return n})();export{E as LiveUpdateFeatureComponent};
//# sourceMappingURL=chunk-QBDF4QMZ.js.map
