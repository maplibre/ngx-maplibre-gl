{"version":3,"sources":["node_modules/@stackblitz/sdk/bundles/sdk.m.js","projects/showcase/src/app/demo/stackblitz-edit/create-stackblitz-project.ts","node_modules/@angular/material/fesm2022/progress-spinner.mjs","projects/showcase/src/app/demo/stackblitz-edit/demo-file-loader.service.ts","projects/showcase/src/app/demo/stackblitz-edit/stackblitz-edit.component.ts"],"sourcesContent":["const CONNECT_INTERVAL = 500;\nconst CONNECT_MAX_ATTEMPTS = 20;\nconst DEFAULT_FRAME_HEIGHT = 300;\nconst DEFAULT_ORIGIN = \"https://stackblitz.com\";\nconst PROJECT_TEMPLATES = [\"angular-cli\", \"create-react-app\", \"html\", \"javascript\", \"node\", \"polymer\", \"typescript\", \"vue\"];\nconst UI_SIDEBAR_VIEWS = [\"project\", \"search\", \"ports\", \"settings\"];\nconst UI_THEMES = [\"light\", \"dark\"];\nconst UI_VIEWS = [\"editor\", \"preview\"];\nconst generators = {\n  clickToLoad: value => trueParam(\"ctl\", value),\n  devToolsHeight: value => percentParam(\"devtoolsheight\", value),\n  forceEmbedLayout: value => trueParam(\"embed\", value),\n  hideDevTools: value => trueParam(\"hidedevtools\", value),\n  hideExplorer: value => trueParam(\"hideExplorer\", value),\n  hideNavigation: value => trueParam(\"hideNavigation\", value),\n  openFile: value => stringParams(\"file\", value),\n  showSidebar: value => booleanParam(\"showSidebar\", value),\n  sidebarView: value => enumParam(\"sidebarView\", value, UI_SIDEBAR_VIEWS),\n  startScript: value => stringParams(\"startScript\", value),\n  terminalHeight: value => percentParam(\"terminalHeight\", value),\n  theme: value => enumParam(\"theme\", value, UI_THEMES),\n  view: value => enumParam(\"view\", value, UI_VIEWS),\n  zenMode: value => trueParam(\"zenMode\", value),\n  organization: value => `${stringParams(\"orgName\", value?.name)}&${stringParams(\"orgProvider\", value?.provider)}`,\n  crossOriginIsolated: value => trueParam(\"corp\", value)\n};\nfunction buildParams(options = {}) {\n  const params = Object.entries(options).map(([key, value]) => {\n    if (value != null && generators.hasOwnProperty(key)) {\n      return generators[key](value);\n    }\n    return \"\";\n  }).filter(Boolean);\n  return params.length ? `?${params.join(\"&\")}` : \"\";\n}\nfunction trueParam(name, value) {\n  if (value === true) {\n    return `${name}=1`;\n  }\n  return \"\";\n}\nfunction booleanParam(name, value) {\n  if (typeof value === \"boolean\") {\n    return `${name}=${value ? \"1\" : \"0\"}`;\n  }\n  return \"\";\n}\nfunction percentParam(name, value) {\n  if (typeof value === \"number\" && !Number.isNaN(value)) {\n    const clamped = Math.min(100, Math.max(0, value));\n    return `${name}=${encodeURIComponent(Math.round(clamped))}`;\n  }\n  return \"\";\n}\nfunction enumParam(name, value = \"\", allowList = []) {\n  if (allowList.includes(value)) {\n    return `${name}=${encodeURIComponent(value)}`;\n  }\n  return \"\";\n}\nfunction stringParams(name, value) {\n  const values = Array.isArray(value) ? value : [value];\n  return values.filter(val => typeof val === \"string\" && val.trim() !== \"\").map(val => `${name}=${encodeURIComponent(val)}`).join(\"&\");\n}\nfunction genID() {\n  return Math.random().toString(36).slice(2, 6) + Math.random().toString(36).slice(2, 6);\n}\nfunction openUrl(route, options) {\n  return `${getOrigin(options)}${route}${buildParams(options)}`;\n}\nfunction embedUrl(route, options) {\n  const config = {\n    forceEmbedLayout: true\n  };\n  if (options && typeof options === \"object\") {\n    Object.assign(config, options);\n  }\n  return `${getOrigin(config)}${route}${buildParams(config)}`;\n}\nfunction getOrigin(options = {}) {\n  const origin = typeof options.origin === \"string\" ? options.origin : DEFAULT_ORIGIN;\n  return origin.replace(/\\/$/, \"\");\n}\nfunction replaceAndEmbed(target, frame, options) {\n  if (!frame || !target || !target.parentNode) {\n    throw new Error(\"Invalid Element\");\n  }\n  if (target.id) {\n    frame.id = target.id;\n  }\n  if (target.className) {\n    frame.className = target.className;\n  }\n  setFrameDimensions(frame, options);\n  setFrameAllowList(target, frame, options);\n  target.replaceWith(frame);\n}\nfunction findElement(elementOrId) {\n  if (typeof elementOrId === \"string\") {\n    const element = document.getElementById(elementOrId);\n    if (!element) {\n      throw new Error(`Could not find element with id '${elementOrId}'`);\n    }\n    return element;\n  } else if (elementOrId instanceof HTMLElement) {\n    return elementOrId;\n  }\n  throw new Error(`Invalid element: ${elementOrId}`);\n}\nfunction openTarget(options) {\n  return options && options.newWindow === false ? \"_self\" : \"_blank\";\n}\nfunction setFrameDimensions(frame, options = {}) {\n  const height = Object.hasOwnProperty.call(options, \"height\") ? `${options.height}` : `${DEFAULT_FRAME_HEIGHT}`;\n  const width = Object.hasOwnProperty.call(options, \"width\") ? `${options.width}` : void 0;\n  frame.setAttribute(\"height\", height);\n  if (width) {\n    frame.setAttribute(\"width\", width);\n  } else {\n    frame.setAttribute(\"style\", \"width:100%;\");\n  }\n}\nfunction setFrameAllowList(target, frame, options = {}) {\n  const allowList = target.allow?.split(\";\")?.map(key => key.trim()) ?? [];\n  if (options.crossOriginIsolated && !allowList.includes(\"cross-origin-isolated\")) {\n    allowList.push(\"cross-origin-isolated\");\n  }\n  if (allowList.length > 0) {\n    frame.allow = allowList.join(\"; \");\n  }\n}\nclass RDC {\n  constructor(port) {\n    this.pending = {};\n    this.port = port;\n    this.port.onmessage = this.messageListener.bind(this);\n  }\n  request({\n    type,\n    payload\n  }) {\n    return new Promise((resolve, reject) => {\n      const id = genID();\n      this.pending[id] = {\n        resolve,\n        reject\n      };\n      this.port.postMessage({\n        type,\n        payload: {\n          ...payload,\n          // Ensure the payload object includes the request ID\n          __reqid: id\n        }\n      });\n    });\n  }\n  messageListener(event) {\n    if (typeof event.data.payload?.__reqid !== \"string\") {\n      return;\n    }\n    const {\n      type,\n      payload\n    } = event.data;\n    const {\n      __reqid: id,\n      __success: success,\n      __error: error\n    } = payload;\n    if (this.pending[id]) {\n      if (success) {\n        this.pending[id].resolve(this.cleanResult(payload));\n      } else {\n        this.pending[id].reject(error ? `${type}: ${error}` : type);\n      }\n      delete this.pending[id];\n    }\n  }\n  cleanResult(payload) {\n    const result = {\n      ...payload\n    };\n    delete result.__reqid;\n    delete result.__success;\n    delete result.__error;\n    return Object.keys(result).length ? result : null;\n  }\n}\nclass VM {\n  constructor(port, config) {\n    this.editor = {\n      /**\n       * Open one of several files in tabs and/or split panes.\n       *\n       * @since 1.7.0 Added support for opening multiple files\n       */\n      openFile: path => {\n        return this._rdc.request({\n          type: \"SDK_OPEN_FILE\",\n          payload: {\n            path\n          }\n        });\n      },\n      /**\n       * Set a project file as the currently selected file.\n       *\n       * - This may update the highlighted file in the file explorer,\n       *   and the currently open and/or focused editor tab.\n       * - It will _not_ open a new editor tab if the provided path does not\n       *   match a currently open tab. See `vm.editor.openFile` to open files.\n       *\n       * @since 1.7.0\n       * @experimental\n       */\n      setCurrentFile: path => {\n        return this._rdc.request({\n          type: \"SDK_SET_CURRENT_FILE\",\n          payload: {\n            path\n          }\n        });\n      },\n      /**\n       * Change the color theme\n       *\n       * @since 1.7.0\n       */\n      setTheme: theme => {\n        return this._rdc.request({\n          type: \"SDK_SET_UI_THEME\",\n          payload: {\n            theme\n          }\n        });\n      },\n      /**\n       * Change the display mode of the project:\n       *\n       * - `default`: show the editor and preview pane\n       * - `editor`: show the editor pane only\n       * - `preview`: show the preview pane only\n       *\n       * @since 1.7.0\n       */\n      setView: view => {\n        return this._rdc.request({\n          type: \"SDK_SET_UI_VIEW\",\n          payload: {\n            view\n          }\n        });\n      },\n      /**\n       * Change the display mode of the sidebar:\n       *\n       * - `true`: show the sidebar\n       * - `false`: hide the sidebar\n       *\n       * @since 1.7.0\n       */\n      showSidebar: (visible = true) => {\n        return this._rdc.request({\n          type: \"SDK_TOGGLE_SIDEBAR\",\n          payload: {\n            visible\n          }\n        });\n      }\n    };\n    this.preview = {\n      /**\n       * The origin (protocol and domain) of the preview iframe.\n       *\n       * In WebContainers-based projects, the origin will always be `null`;\n       * try using `vm.preview.getUrl` instead.\n       *\n       * @see https://developer.stackblitz.com/guides/user-guide/available-environments\n       */\n      origin: \"\",\n      /**\n       * Get the current preview URL.\n       *\n       * In both and EngineBlock and WebContainers-based projects, the preview URL\n       * may not reflect the exact path of the current page, after user navigation.\n       *\n       * In WebContainers-based projects, the preview URL will be `null` initially,\n       * and until the project starts a web server.\n       *\n       * @since 1.7.0\n       * @experimental\n       */\n      getUrl: () => {\n        return this._rdc.request({\n          type: \"SDK_GET_PREVIEW_URL\",\n          payload: {}\n        }).then(data => data?.url ?? null);\n      },\n      /**\n       * Change the path of the preview URL.\n       *\n       * In WebContainers-based projects, this will be ignored if there is no\n       * currently running web server.\n       *\n       * @since 1.7.0\n       * @experimental\n       */\n      setUrl: (path = \"/\") => {\n        if (typeof path !== \"string\" || !path.startsWith(\"/\")) {\n          throw new Error(`Invalid argument: expected a path starting with '/', got '${path}'`);\n        }\n        return this._rdc.request({\n          type: \"SDK_SET_PREVIEW_URL\",\n          payload: {\n            path\n          }\n        });\n      }\n    };\n    this._rdc = new RDC(port);\n    Object.defineProperty(this.preview, \"origin\", {\n      value: typeof config.previewOrigin === \"string\" ? config.previewOrigin : null,\n      writable: false\n    });\n  }\n  /**\n   * Apply batch updates to the project files in one call.\n   */\n  applyFsDiff(diff) {\n    const isObject = val => val !== null && typeof val === \"object\";\n    if (!isObject(diff) || !isObject(diff.create)) {\n      throw new Error(\"Invalid diff object: expected diff.create to be an object.\");\n    } else if (!Array.isArray(diff.destroy)) {\n      throw new Error(\"Invalid diff object: expected diff.destroy to be an array.\");\n    }\n    return this._rdc.request({\n      type: \"SDK_APPLY_FS_DIFF\",\n      payload: diff\n    });\n  }\n  /**\n   * Get the project’s defined dependencies.\n   *\n   * In EngineBlock projects, version numbers represent the resolved dependency versions.\n   * In WebContainers-based projects, returns data from the project’s `package.json` without resolving installed version numbers.\n   */\n  getDependencies() {\n    return this._rdc.request({\n      type: \"SDK_GET_DEPS_SNAPSHOT\",\n      payload: {}\n    });\n  }\n  /**\n   * Get a snapshot of the project files and their content.\n   */\n  getFsSnapshot() {\n    return this._rdc.request({\n      type: \"SDK_GET_FS_SNAPSHOT\",\n      payload: {}\n    });\n  }\n}\nconst connections = [];\nclass Connection {\n  constructor(element) {\n    this.id = genID();\n    this.element = element;\n    this.pending = new Promise((resolve, reject) => {\n      const listenForSuccess = ({\n        data,\n        ports\n      }) => {\n        if (data?.action === \"SDK_INIT_SUCCESS\" && data.id === this.id) {\n          this.vm = new VM(ports[0], data.payload);\n          resolve(this.vm);\n          cleanup();\n        }\n      };\n      const pingFrame = () => {\n        this.element.contentWindow?.postMessage({\n          action: \"SDK_INIT\",\n          id: this.id\n        }, \"*\");\n      };\n      function cleanup() {\n        window.clearInterval(interval);\n        window.removeEventListener(\"message\", listenForSuccess);\n      }\n      window.addEventListener(\"message\", listenForSuccess);\n      pingFrame();\n      let attempts = 0;\n      const interval = window.setInterval(() => {\n        if (this.vm) {\n          cleanup();\n          return;\n        }\n        if (attempts >= CONNECT_MAX_ATTEMPTS) {\n          cleanup();\n          reject(\"Timeout: Unable to establish a connection with the StackBlitz VM\");\n          connections.forEach((connection, index) => {\n            if (connection.id === this.id) {\n              connections.splice(index, 1);\n            }\n          });\n          return;\n        }\n        attempts++;\n        pingFrame();\n      }, CONNECT_INTERVAL);\n    });\n    connections.push(this);\n  }\n}\nconst getConnection = identifier => {\n  const key = identifier instanceof Element ? \"element\" : \"id\";\n  return connections.find(c => c[key] === identifier) ?? null;\n};\nfunction createHiddenInput(name, value) {\n  const input = document.createElement(\"input\");\n  input.type = \"hidden\";\n  input.name = name;\n  input.value = value;\n  return input;\n}\nfunction encodeFilePath(path) {\n  return path.replace(/\\[/g, \"%5B\").replace(/\\]/g, \"%5D\");\n}\nfunction createProjectForm({\n  template,\n  title,\n  description,\n  dependencies,\n  files,\n  settings\n}) {\n  if (!PROJECT_TEMPLATES.includes(template)) {\n    const names = PROJECT_TEMPLATES.map(t => `'${t}'`).join(\", \");\n    console.warn(`Unsupported project.template: must be one of ${names}`);\n  }\n  const inputs = [];\n  const addInput = (name, value, defaultValue = \"\") => {\n    inputs.push(createHiddenInput(name, typeof value === \"string\" ? value : defaultValue));\n  };\n  addInput(\"project[title]\", title);\n  if (typeof description === \"string\" && description.length > 0) {\n    addInput(\"project[description]\", description);\n  }\n  addInput(\"project[template]\", template, \"javascript\");\n  if (dependencies) {\n    if (template === \"node\") {\n      console.warn(`Invalid project.dependencies: dependencies must be provided as a 'package.json' file when using the 'node' template.`);\n    } else {\n      addInput(\"project[dependencies]\", JSON.stringify(dependencies));\n    }\n  }\n  if (settings) {\n    addInput(\"project[settings]\", JSON.stringify(settings));\n  }\n  Object.entries(files).forEach(([path, contents]) => {\n    addInput(`project[files][${encodeFilePath(path)}]`, contents);\n  });\n  const form = document.createElement(\"form\");\n  form.method = \"POST\";\n  form.setAttribute(\"style\", \"display:none!important;\");\n  form.append(...inputs);\n  return form;\n}\nfunction createProjectFrameHTML(project, options) {\n  const form = createProjectForm(project);\n  form.action = embedUrl(\"/run\", options);\n  form.id = \"sb_run\";\n  const html = `<!doctype html>\n<html>\n<head><title></title></head>\n<body>\n  ${form.outerHTML}\n  <script>document.getElementById('${form.id}').submit();<\\/script>\n</body>\n</html>`;\n  return html;\n}\nfunction openNewProject(project, options) {\n  const form = createProjectForm(project);\n  form.action = openUrl(\"/run\", options);\n  form.target = openTarget(options);\n  document.body.appendChild(form);\n  form.submit();\n  document.body.removeChild(form);\n}\nfunction connect(frameEl) {\n  if (!frameEl?.contentWindow) {\n    return Promise.reject(\"Provided element is not an iframe.\");\n  }\n  const connection = getConnection(frameEl) ?? new Connection(frameEl);\n  return connection.pending;\n}\nfunction openProject(project, options) {\n  openNewProject(project, options);\n}\nfunction openProjectId(projectId, options) {\n  const url = openUrl(`/edit/${projectId}`, options);\n  const target = openTarget(options);\n  window.open(url, target);\n}\nfunction openGithubProject(repoSlug, options) {\n  const url = openUrl(`/github/${repoSlug}`, options);\n  const target = openTarget(options);\n  window.open(url, target);\n}\nfunction embedProject(elementOrId, project, options) {\n  const element = findElement(elementOrId);\n  const html = createProjectFrameHTML(project, options);\n  const frame = document.createElement(\"iframe\");\n  replaceAndEmbed(element, frame, options);\n  frame.contentDocument?.write(html);\n  return connect(frame);\n}\nfunction embedProjectId(elementOrId, projectId, options) {\n  const element = findElement(elementOrId);\n  const frame = document.createElement(\"iframe\");\n  frame.src = embedUrl(`/edit/${projectId}`, options);\n  replaceAndEmbed(element, frame, options);\n  return connect(frame);\n}\nfunction embedGithubProject(elementOrId, repoSlug, options) {\n  const element = findElement(elementOrId);\n  const frame = document.createElement(\"iframe\");\n  frame.src = embedUrl(`/github/${repoSlug}`, options);\n  replaceAndEmbed(element, frame, options);\n  return connect(frame);\n}\nconst StackBlitzSDK = {\n  connect,\n  embedGithubProject,\n  embedProject,\n  embedProjectId,\n  openGithubProject,\n  openProject,\n  openProjectId\n};\nexport { StackBlitzSDK as default };\n","import { Project } from '@stackblitz/sdk/types/interfaces';\n\nfunction toPascalCase(text: string) {\n  return text.replace(/(^\\w|-\\w)/g, clearAndUpper);\n}\n\nfunction clearAndUpper(text: string) {\n  return text.replace(/-/, '').toUpperCase();\n}\n\nexport function createStackblitzProject(\n  projectbase: string[],\n  demoFiles: Record<string, string>,\n  exampleName: string\n): Project {\n  return {\n    files: {\n      /* eslint-disable @typescript-eslint/naming-convention */\n      'src/main.ts': projectbase[0].replace(\n        /###/g,\n        toPascalCase(exampleName) + 'Component'\n      ),\n      'angular.json': projectbase[1],\n      'src/index.html': '<showcase-demo></showcase-demo>',\n      'src/styles.css': `\nhtml, body {\n  display: flex;\n  flex: 1;\n  min-height: 100vh;\n  margin: 0;\n}\n`,\n      'src/polyfills.ts': `import 'zone.js';`,\n      ...demoFiles,\n    },\n    title: '',\n    description: '',\n    template: 'angular-cli',\n    dependencies: {\n      tslib: '*',\n      'maplibre-gl': '*',\n      '@maplibre/maplibre-gl-style-spec': '*',\n      '@maplibre/ngx-maplibre-gl': '*',\n      '@angular/animations': '^19',\n      '@angular/common': '^19',\n      '@angular/compiler': '^19',\n      '@angular/core': '^19',\n      '@angular/forms': '^19',\n      '@angular/platform-browser': '^19',\n      '@angular/router': '^19',\n      '@angular/material': '^19',\n      '@angular/cdk': '^19',\n      url: '*',\n      querystring: '*',\n      events: '*',\n      '@types/supercluster': '*',\n      '@types/geojson': '*',\n    },\n    /* eslint-enable @typescript-eslint/naming-convention */\n  };\n}\n","import * as i0 from '@angular/core';\nimport { InjectionToken, inject, ElementRef, ANIMATION_MODULE_TYPE, numberAttribute, Component, ChangeDetectionStrategy, ViewEncapsulation, Input, ViewChild, NgModule } from '@angular/core';\nimport { NgTemplateOutlet } from '@angular/common';\nimport { MatCommonModule } from '@angular/material/core';\n\n/** Injection token to be used to override the default options for `mat-progress-spinner`. */\nconst _c0 = [\"determinateSpinner\"];\nfunction MatProgressSpinner_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 11);\n    i0.ɵɵelement(1, \"circle\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵattribute(\"viewBox\", ctx_r0._viewBox());\n    i0.ɵɵadvance();\n    i0.ɵɵstyleProp(\"stroke-dasharray\", ctx_r0._strokeCircumference(), \"px\")(\"stroke-dashoffset\", ctx_r0._strokeCircumference() / 2, \"px\")(\"stroke-width\", ctx_r0._circleStrokeWidth(), \"%\");\n    i0.ɵɵattribute(\"r\", ctx_r0._circleRadius());\n  }\n}\nconst MAT_PROGRESS_SPINNER_DEFAULT_OPTIONS = /*#__PURE__*/new InjectionToken('mat-progress-spinner-default-options', {\n  providedIn: 'root',\n  factory: MAT_PROGRESS_SPINNER_DEFAULT_OPTIONS_FACTORY\n});\n/** @docs-private */\nfunction MAT_PROGRESS_SPINNER_DEFAULT_OPTIONS_FACTORY() {\n  return {\n    diameter: BASE_SIZE\n  };\n}\n/**\n * Base reference size of the spinner.\n */\nconst BASE_SIZE = 100;\n/**\n * Base reference stroke width of the spinner.\n */\nconst BASE_STROKE_WIDTH = 10;\nlet MatProgressSpinner = /*#__PURE__*/(() => {\n  class MatProgressSpinner {\n    _elementRef = inject(ElementRef);\n    /** Whether the _mat-animation-noopable class should be applied, disabling animations.  */\n    _noopAnimations;\n    // TODO: should be typed as `ThemePalette` but internal apps pass in arbitrary strings.\n    /**\n     * Theme color of the progress spinner. This API is supported in M2 themes only, it\n     * has no effect in M3 themes. For color customization in M3, see https://material.angular.io/components/progress-spinner/styling.\n     *\n     * For information on applying color variants in M3, see\n     * https://material.angular.io/guide/material-2-theming#optional-add-backwards-compatibility-styles-for-color-variants\n     */\n    get color() {\n      return this._color || this._defaultColor;\n    }\n    set color(value) {\n      this._color = value;\n    }\n    _color;\n    _defaultColor = 'primary';\n    /** The element of the determinate spinner. */\n    _determinateCircle;\n    constructor() {\n      const animationMode = inject(ANIMATION_MODULE_TYPE, {\n        optional: true\n      });\n      const defaults = inject(MAT_PROGRESS_SPINNER_DEFAULT_OPTIONS);\n      this._noopAnimations = animationMode === 'NoopAnimations' && !!defaults && !defaults._forceAnimations;\n      this.mode = this._elementRef.nativeElement.nodeName.toLowerCase() === 'mat-spinner' ? 'indeterminate' : 'determinate';\n      if (defaults) {\n        if (defaults.color) {\n          this.color = this._defaultColor = defaults.color;\n        }\n        if (defaults.diameter) {\n          this.diameter = defaults.diameter;\n        }\n        if (defaults.strokeWidth) {\n          this.strokeWidth = defaults.strokeWidth;\n        }\n      }\n    }\n    /**\n     * Mode of the progress bar.\n     *\n     * Input must be one of these values: determinate, indeterminate, buffer, query, defaults to\n     * 'determinate'.\n     * Mirrored to mode attribute.\n     */\n    mode;\n    /** Value of the progress bar. Defaults to zero. Mirrored to aria-valuenow. */\n    get value() {\n      return this.mode === 'determinate' ? this._value : 0;\n    }\n    set value(v) {\n      this._value = Math.max(0, Math.min(100, v || 0));\n    }\n    _value = 0;\n    /** The diameter of the progress spinner (will set width and height of svg). */\n    get diameter() {\n      return this._diameter;\n    }\n    set diameter(size) {\n      this._diameter = size || 0;\n    }\n    _diameter = BASE_SIZE;\n    /** Stroke width of the progress spinner. */\n    get strokeWidth() {\n      return this._strokeWidth ?? this.diameter / 10;\n    }\n    set strokeWidth(value) {\n      this._strokeWidth = value || 0;\n    }\n    _strokeWidth;\n    /** The radius of the spinner, adjusted for stroke width. */\n    _circleRadius() {\n      return (this.diameter - BASE_STROKE_WIDTH) / 2;\n    }\n    /** The view box of the spinner's svg element. */\n    _viewBox() {\n      const viewBox = this._circleRadius() * 2 + this.strokeWidth;\n      return `0 0 ${viewBox} ${viewBox}`;\n    }\n    /** The stroke circumference of the svg circle. */\n    _strokeCircumference() {\n      return 2 * Math.PI * this._circleRadius();\n    }\n    /** The dash offset of the svg circle. */\n    _strokeDashOffset() {\n      if (this.mode === 'determinate') {\n        return this._strokeCircumference() * (100 - this._value) / 100;\n      }\n      return null;\n    }\n    /** Stroke width of the circle in percent. */\n    _circleStrokeWidth() {\n      return this.strokeWidth / this.diameter * 100;\n    }\n    static ɵfac = function MatProgressSpinner_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatProgressSpinner)();\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: MatProgressSpinner,\n      selectors: [[\"mat-progress-spinner\"], [\"mat-spinner\"]],\n      viewQuery: function MatProgressSpinner_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx._determinateCircle = _t.first);\n        }\n      },\n      hostAttrs: [\"role\", \"progressbar\", \"tabindex\", \"-1\", 1, \"mat-mdc-progress-spinner\", \"mdc-circular-progress\"],\n      hostVars: 18,\n      hostBindings: function MatProgressSpinner_HostBindings(rf, ctx) {\n        if (rf & 2) {\n          i0.ɵɵattribute(\"aria-valuemin\", 0)(\"aria-valuemax\", 100)(\"aria-valuenow\", ctx.mode === \"determinate\" ? ctx.value : null)(\"mode\", ctx.mode);\n          i0.ɵɵclassMap(\"mat-\" + ctx.color);\n          i0.ɵɵstyleProp(\"width\", ctx.diameter, \"px\")(\"height\", ctx.diameter, \"px\")(\"--mdc-circular-progress-size\", ctx.diameter + \"px\")(\"--mdc-circular-progress-active-indicator-width\", ctx.diameter + \"px\");\n          i0.ɵɵclassProp(\"_mat-animation-noopable\", ctx._noopAnimations)(\"mdc-circular-progress--indeterminate\", ctx.mode === \"indeterminate\");\n        }\n      },\n      inputs: {\n        color: \"color\",\n        mode: \"mode\",\n        value: [2, \"value\", \"value\", numberAttribute],\n        diameter: [2, \"diameter\", \"diameter\", numberAttribute],\n        strokeWidth: [2, \"strokeWidth\", \"strokeWidth\", numberAttribute]\n      },\n      exportAs: [\"matProgressSpinner\"],\n      features: [i0.ɵɵInputTransformsFeature],\n      decls: 14,\n      vars: 11,\n      consts: [[\"circle\", \"\"], [\"determinateSpinner\", \"\"], [\"aria-hidden\", \"true\", 1, \"mdc-circular-progress__determinate-container\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"focusable\", \"false\", 1, \"mdc-circular-progress__determinate-circle-graphic\"], [\"cx\", \"50%\", \"cy\", \"50%\", 1, \"mdc-circular-progress__determinate-circle\"], [\"aria-hidden\", \"true\", 1, \"mdc-circular-progress__indeterminate-container\"], [1, \"mdc-circular-progress__spinner-layer\"], [1, \"mdc-circular-progress__circle-clipper\", \"mdc-circular-progress__circle-left\"], [3, \"ngTemplateOutlet\"], [1, \"mdc-circular-progress__gap-patch\"], [1, \"mdc-circular-progress__circle-clipper\", \"mdc-circular-progress__circle-right\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"focusable\", \"false\", 1, \"mdc-circular-progress__indeterminate-circle-graphic\"], [\"cx\", \"50%\", \"cy\", \"50%\"]],\n      template: function MatProgressSpinner_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, MatProgressSpinner_ng_template_0_Template, 2, 8, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵelementStart(2, \"div\", 2, 1);\n          i0.ɵɵnamespaceSVG();\n          i0.ɵɵelementStart(4, \"svg\", 3);\n          i0.ɵɵelement(5, \"circle\", 4);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵnamespaceHTML();\n          i0.ɵɵelementStart(6, \"div\", 5)(7, \"div\", 6)(8, \"div\", 7);\n          i0.ɵɵelementContainer(9, 8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"div\", 9);\n          i0.ɵɵelementContainer(11, 8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"div\", 10);\n          i0.ɵɵelementContainer(13, 8);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          const circle_r2 = i0.ɵɵreference(1);\n          i0.ɵɵadvance(4);\n          i0.ɵɵattribute(\"viewBox\", ctx._viewBox());\n          i0.ɵɵadvance();\n          i0.ɵɵstyleProp(\"stroke-dasharray\", ctx._strokeCircumference(), \"px\")(\"stroke-dashoffset\", ctx._strokeDashOffset(), \"px\")(\"stroke-width\", ctx._circleStrokeWidth(), \"%\");\n          i0.ɵɵattribute(\"r\", ctx._circleRadius());\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngTemplateOutlet\", circle_r2);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngTemplateOutlet\", circle_r2);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngTemplateOutlet\", circle_r2);\n        }\n      },\n      dependencies: [NgTemplateOutlet],\n      styles: [\".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}\"],\n      encapsulation: 2,\n      changeDetection: 0\n    });\n  }\n  return MatProgressSpinner;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * @deprecated Import Progress Spinner instead. Note that the\n *    `mat-spinner` selector isn't deprecated.\n * @breaking-change 16.0.0\n */\n// tslint:disable-next-line:variable-name\nconst MatSpinner = MatProgressSpinner;\nlet MatProgressSpinnerModule = /*#__PURE__*/(() => {\n  class MatProgressSpinnerModule {\n    static ɵfac = function MatProgressSpinnerModule_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatProgressSpinnerModule)();\n    };\n    static ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n      type: MatProgressSpinnerModule\n    });\n    static ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n      imports: [MatCommonModule]\n    });\n  }\n  return MatProgressSpinnerModule;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { MAT_PROGRESS_SPINNER_DEFAULT_OPTIONS, MAT_PROGRESS_SPINNER_DEFAULT_OPTIONS_FACTORY, MatProgressSpinner, MatProgressSpinnerModule, MatSpinner };\n","import { HttpClient } from '@angular/common/http';\nimport { inject, Injectable } from '@angular/core';\nimport { forkJoin, Observable, of } from 'rxjs';\nimport { map, shareReplay, switchMap } from 'rxjs/operators';\n\nconst FILES_PATH = 'app/demo/examples/';\n\n@Injectable({ providedIn: 'root' })\nexport class DemoFileLoaderService {\n  private readonly http = inject(HttpClient);\n  private fileCache = new Map<string, Observable<Record<string, string>>>();\n\n  constructor() {\n    // Preload this file since it's used in every demos\n    this.loadFile('example.css');\n  }\n\n  getDemoFiles(exampleName: string) {\n    let req$ = this.fileCache.get(exampleName);\n    if (req$) {\n      return req$;\n    }\n    req$ = this.http\n      .get(`${FILES_PATH}${exampleName}.component.ts`, {\n        responseType: 'text',\n      })\n      .pipe(\n        switchMap((fileContent) =>\n          this.loadAdditionnalFilesIfNecessary(fileContent)\n        ),\n        shareReplay(1)\n      );\n    this.fileCache.set(exampleName, req$);\n    return req$;\n  }\n\n  private loadAdditionnalFilesIfNecessary(fileContent: string) {\n    const r = /'\\.\\/([\\w-.]+\\.\\w+)'/g;\n    let match;\n    const files = [];\n    const result = {\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      'src/demo.ts': fileContent,\n    };\n    while ((match = r.exec(fileContent))) {\n      files.push(this.loadFile(match[1]));\n    }\n    if (files.length) {\n      return forkJoin(files).pipe(\n        map((files) => {\n          return {\n            ...Object.assign({}, ...files),\n            ...result,\n          };\n        })\n      );\n    }\n    return of(result);\n  }\n\n  private loadFile(fileName: string) {\n    let req$ = this.fileCache.get(fileName);\n    if (req$) {\n      return req$;\n    }\n    req$ = this.http\n      .get(`${FILES_PATH}${fileName}`, {\n        responseType: 'text',\n      })\n      .pipe(\n        map((fileContent) => ({\n          [`src/${fileName}`]: fileContent,\n        })),\n        shareReplay(1)\n      );\n    this.fileCache.set(fileName, req$);\n    return req$;\n  }\n}\n","import { HttpClient } from '@angular/common/http';\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  NgZone,\n  OnDestroy, viewChild } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport StackBlitzSDK, { VM } from '@stackblitz/sdk';\nimport { Subscription, forkJoin, from, of } from 'rxjs';\nimport { finalize, shareReplay, switchMap, tap } from 'rxjs/operators';\nimport { createStackblitzProject } from './create-stackblitz-project';\nimport { DemoFileLoaderService } from './demo-file-loader.service';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\n\n@Component({\n  template: `\n    <div #container></div>\n    @if (loading) {\n      <div class=\"loader\">\n        <mat-spinner></mat-spinner>\n        <div></div>\n      </div>\n    }\n  `,\n  styles: [\n    `\n      :host {\n        display: flex;\n        flex: 1;\n        position: relative;\n      }\n      :host ::ng-deep iframe {\n        height: 100%;\n        width: 100%;\n        border: 0;\n      }\n      .loader {\n        position: absolute;\n        left: 50%;\n        top: 50%;\n        transform: translate(-50%, -50%);\n      }\n    `,\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  imports: [MatProgressSpinnerModule],\n})\nexport class StackblitzEditComponent implements AfterViewInit, OnDestroy {\n  stackblitzContainer = viewChild.required<ElementRef<HTMLDivElement>>('container');\n\n  loading = true;\n\n  private sub: Subscription;\n  private vm: VM;\n  private projectbase$ = forkJoin([\n    this.http.get('assets/stackblitz/main.notts', {\n      responseType: 'text',\n    }),\n    this.http.get('assets/stackblitz/angular.json', {\n      responseType: 'text',\n    }),\n  ]).pipe(shareReplay(1));\n\n  constructor(\n    private zone: NgZone,\n    private activatedRoute: ActivatedRoute,\n    private demoFileLoaderService: DemoFileLoaderService,\n    private http: HttpClient,\n    private changeDetectorRef: ChangeDetectorRef\n  ) {}\n\n  ngOnDestroy(): void {\n    if (this.sub) {\n      this.sub.unsubscribe();\n    }\n  }\n\n  ngAfterViewInit() {\n    this.sub = this.activatedRoute.params\n      .pipe(\n        tap(() => {\n          this.loading = true;\n          this.changeDetectorRef.markForCheck();\n        }),\n        switchMap((params) =>\n          forkJoin([\n            this.projectbase$,\n            this.demoFileLoaderService.getDemoFiles(params.demoUrl),\n            of(params.demoUrl as string),\n          ])\n        ),\n        switchMap(([projectbase, demoFiles, exampleName]) =>\n          from(this.openExample(projectbase, demoFiles, exampleName)).pipe(\n            finalize(() => {\n              this.loading = false;\n              this.changeDetectorRef.markForCheck();\n            })\n          )\n        )\n      )\n      .subscribe();\n  }\n\n  private async openExample(\n    projectbase: string[],\n    demoFiles: Record<string, string>,\n    exampleName: string\n  ) {\n    if (this.vm) {\n      await this.vm.applyFsDiff({\n        create: demoFiles,\n        destroy: [],\n      });\n      return;\n    }\n    const project = createStackblitzProject(\n      projectbase,\n      demoFiles,\n      exampleName\n    );\n    await this.zone.runOutsideAngular(async () => {\n      this.vm = await StackBlitzSDK.embedProject(\n        this.stackblitzContainer().nativeElement,\n        project,\n        {\n          hideExplorer: true,\n          hideNavigation: true,\n          forceEmbedLayout: true,\n          openFile: 'src/demo.ts',\n        }\n      );\n    });\n  }\n}\n"],"mappings":"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","names":["DEFAULT_ORIGIN","PROJECT_TEMPLATES","UI_SIDEBAR_VIEWS","UI_THEMES","UI_VIEWS","generators","value","trueParam","percentParam","stringParams","booleanParam","enumParam","buildParams","options","params","key","name","clamped","allowList","val","genID","openUrl","route","getOrigin","embedUrl","config","replaceAndEmbed","target","frame","setFrameDimensions","setFrameAllowList","findElement","elementOrId","element","openTarget","height","width","RDC","port","type","payload","resolve","reject","id","__spreadProps","__spreadValues","event","success","error","result","VM","path","theme","view","visible","data","diff","isObject","connections","Connection","listenForSuccess","ports","cleanup","pingFrame","interval","attempts","connection","index","getConnection","identifier","c","createHiddenInput","input","encodeFilePath","createProjectForm","template","title","description","dependencies","files","settings","names","t","inputs","addInput","defaultValue","contents","form","createProjectFrameHTML","project","openNewProject","connect","frameEl","openProject","openProjectId","projectId","url","openGithubProject","repoSlug","embedProject","html","embedProjectId","embedGithubProject","StackBlitzSDK","toPascalCase","text","replace","clearAndUpper","toUpperCase","createStackblitzProject","projectbase","demoFiles","exampleName","files","__spreadValues","title","description","template","dependencies","tslib","url","querystring","events","_c0","MatProgressSpinner_ng_template_0_Template","rf","ctx","ɵɵnamespaceSVG","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ctx_r0","ɵɵnextContext","ɵɵattribute","ɵɵadvance","ɵɵstyleProp","MAT_PROGRESS_SPINNER_DEFAULT_OPTIONS","InjectionToken","MAT_PROGRESS_SPINNER_DEFAULT_OPTIONS_FACTORY","BASE_SIZE","BASE_STROKE_WIDTH","MatProgressSpinner","inject","ElementRef","value","animationMode","ANIMATION_MODULE_TYPE","defaults","v","size","viewBox","__ngFactoryType__","ɵɵdefineComponent","ɵɵviewQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","ɵɵclassMap","ɵɵclassProp","numberAttribute","ɵɵInputTransformsFeature","ɵɵtemplate","ɵɵtemplateRefExtractor","ɵɵnamespaceHTML","ɵɵelementContainer","circle_r2","ɵɵreference","ɵɵproperty","NgTemplateOutlet","MatProgressSpinnerModule","__ngFactoryType__","ɵɵdefineNgModule","ɵɵdefineInjector","MatCommonModule","FILES_PATH","DemoFileLoaderService","constructor","http","inject","HttpClient","fileCache","Map","loadFile","getDemoFiles","exampleName","req$","get","responseType","pipe","switchMap","fileContent","loadAdditionnalFilesIfNecessary","shareReplay","set","r","match","files","result","exec","push","length","forkJoin","map","__spreadValues","Object","assign","of","fileName","factory","ɵfac","providedIn","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","StackblitzEditComponent","constructor","zone","activatedRoute","demoFileLoaderService","http","changeDetectorRef","stackblitzContainer","viewChild","required","loading","projectbase$","forkJoin","get","responseType","pipe","shareReplay","ngOnDestroy","sub","unsubscribe","ngAfterViewInit","params","tap","markForCheck","switchMap","getDemoFiles","demoUrl","of","projectbase","demoFiles","exampleName","from","openExample","finalize","subscribe","__async","vm","applyFsDiff","create","destroy","project","createStackblitzProject","runOutsideAngular","StackBlitzSDK","embedProject","nativeElement","hideExplorer","hideNavigation","forceEmbedLayout","openFile","ɵɵdirectiveInject","NgZone","ActivatedRoute","DemoFileLoaderService","HttpClient","ChangeDetectorRef","selectors","viewQuery","rf","ctx","ɵɵtemplate","StackblitzEditComponent_Conditional_2_Template","ɵɵadvance","ɵɵconditional","MatProgressSpinnerModule","MatProgressSpinner","styles","changeDetection"],"x_google_ignoreList":[0,2]}