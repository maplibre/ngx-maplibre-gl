import{a}from"./chunk-5WCN4HEM.js";import{m as f,n as y,t as v}from"./chunk-Y2BMCJAE.js";import{Eb as i,Hb as u,Pa as m,Pb as h,Qb as l,Rb as g,ca as c,db as r,mc as o,sb as d,wa as p}from"./chunk-UWFC3BX3.js";import"./chunk-SE5JAREP.js";var _=()=>[14],M=()=>({preserveDrawingBuffer:!0}),z=()=>({"raster-fade-duration":0}),R=(()=>{class s{constructor(){this.ngZone=c(p),this.size=.001,this.url="assets/red.png",this.center=a.features[0].geometry.coordinates[0],this.coordinates=this.makeRectangle(this.center),m(()=>{let t=a.features[0].geometry.coordinates,e=t.map(C=>this.makeRectangle(C));this.center=t[0],this.coordinates=e[0];let n=0;this.timer=setInterval(()=>{this.ngZone.run(()=>{this.url=Math.random()<.5?"assets/red.png":"assets/blue.png",this.coordinates=e[n],n=(n+1)%e.length})},250)})}ngOnDestroy(){this.timer!==void 0&&clearInterval(this.timer)}makeRectangle([t,e]){return[[t,e],[t+this.size,e],[t+this.size,e-this.size],[t,e-this.size]]}static{this.\u0275fac=function(e){return new(e||s)}}static{this.\u0275cmp=d({type:s,selectors:[["showcase-demo"]],decls:3,vars:11,consts:[["movingMethod","jumpTo",3,"center","zoom","canvasContextAttributes"],["id","test_source",3,"url","coordinates"],["id","test_layer","source","test_source","type","raster",3,"paint"]],template:function(e,n){e&1&&(h(0,"mgl-map",0),g(1,"mgl-image-source",1)(2,"mgl-layer",2),l()),e&2&&(u("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),i("center",n.center)("zoom",o(8,_))("canvasContextAttributes",o(9,M)),r(),i("url",n.url)("coordinates",n.coordinates),r(),i("paint",o(10,z)))},dependencies:[y,v,f],styles:[`[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}
/*# sourceMappingURL=examples-UPBTEGPO.css.map */`]})}}return s})();export{R as LiveUpdateImageSourceComponent};
//# sourceMappingURL=chunk-F7CKWAYC.js.map
