import{m as P,n as T,o as A}from"./chunk-GIP4QCRU.js";import{Fb as M,Gb as x,Hb as g,Ib as D,Jb as I,Kb as f,Ob as b,ab as _,jc as o,kc as n,lb as v,lc as d,mc as w,wa as C}from"./chunk-ESV3RZT2.js";var S=()=>({preserveDrawingBuffer:!0}),L=()=>[0,0],F=e=>({type:"Point",coordinates:e}),U=()=>({color:"255,0,0"}),h=(e,t)=>({type:"Feature",geometry:e,properties:t}),E=()=>[50,0],G=()=>({color:"255,209,28"}),j=e=>[e,0],k=()=>({color:"242,127,32"}),q=(e,t,u)=>[e,t,u],B=e=>({type:"FeatureCollection",features:e}),N=e=>({type:"geojson",data:e}),$=()=>["get","color"],z=e=>["concat","square-rgb-",e],H=e=>({"icon-image":e}),R=(e,t)=>t.id;function Z(e,t){if(e&1&&f(0,"mgl-image",1),e&2){let u=t.$implicit;g("id",u.id)("data",u)}}var X=(()=>{let t=class t{constructor(){this.imagesData=C([])}generateImage({id:a}){let r="square-rgb-";if(a.indexOf(r)!==0)return;let c=a.replace(r,"").split(",").map(Number),i=64,m=4,s=new Uint8Array(i*i*m);for(let p=0;p<i;p++)for(let y=0;y<i;y++){let l=(y*i+p)*m;s[l+0]=c[0],s[l+1]=c[1],s[l+2]=c[2],s[l+3]=255}let O={id:a,width:i,height:i,data:s};this.imagesData.update(p=>[...p,O])}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=v({type:t,selectors:[["showcase-demo"]],decls:4,vars:40,consts:[[3,"styleImageMissing","mapStyle","canvasContextAttributes"],[3,"id","data"],["id","points","type","symbol",3,"source","layout"]],template:function(r,c){r&1&&(D(0,"mgl-map",0),b("styleImageMissing",function(m){return c.generateImage(m)}),M(1,Z,1,2,"mgl-image",1,R),f(3,"mgl-layer",2),I()),r&2&&(g("mapStyle","https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL")("canvasContextAttributes",o(4,S)),_(),x(c.imagesData()),_(2),g("source",n(33,N,n(31,B,w(27,q,d(9,h,n(6,F,o(5,L)),o(8,U)),d(16,h,n(13,F,o(12,E)),o(15,G)),d(24,h,n(21,F,n(19,j,-50)),o(23,k))))))("layout",n(38,H,n(36,z,o(35,$)))))},dependencies:[A,P,T],styles:[`[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}
/*# sourceMappingURL=examples-UPBTEGPO.css.map */`],changeDetection:0});let e=t;return e})();export{X as AddImageMissingGeneratedComponent};
//# sourceMappingURL=chunk-O4ZF67GV.js.map
