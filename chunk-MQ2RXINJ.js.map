{
  "version": 3,
  "sources": ["projects/showcase/src/app/demo/examples/add-image-missing-generated.component.ts"],
  "sourcesContent": ["import { ChangeDetectionStrategy, Component, signal } from '@angular/core';\nimport {\n  MapComponent,\n  MapImageData,\n  ImageComponent,\n  LayerComponent,\n} from '@maplibre/ngx-maplibre-gl';\n\n@Component({\n  selector: 'showcase-demo',\n  template: `\n    <mgl-map\n      [style]=\"\n        'https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL'\n      \"\n      (styleImageMissing)=\"generateImage($event)\"\n      [canvasContextAttributes]=\"{preserveDrawingBuffer: true}\"\n    >\n      @for (imageData of imagesData(); track imageData.id) {\n      <mgl-image [id]=\"imageData.id\" [data]=\"imageData\"></mgl-image>\n      }\n      <mgl-layer\n        id=\"points\"\n        type=\"symbol\"\n        [source]=\"{\n          type: 'geojson',\n          data: {\n            type: 'FeatureCollection',\n            features: [\n              {\n                type: 'Feature',\n                geometry: {\n                  type: 'Point',\n                  coordinates: [0, 0]\n                },\n                properties: {\n                  color: '255,0,0'\n                }\n              },\n              {\n                type: 'Feature',\n                geometry: {\n                  type: 'Point',\n                  coordinates: [50, 0]\n                },\n                properties: {\n                  color: '255,209,28'\n                }\n              },\n              {\n                type: 'Feature',\n                geometry: {\n                  type: 'Point',\n                  coordinates: [-50, 0]\n                },\n                properties: {\n                  color: '242,127,32'\n                }\n              }\n            ]\n          }\n        }\"\n        [layout]=\"{\n          'icon-image': ['concat', 'square-rgb-', ['get', 'color']]\n        }\"\n      >\n      </mgl-layer>\n    </mgl-map>\n  `,\n  styleUrls: ['./examples.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  imports: [MapComponent, ImageComponent, LayerComponent],\n})\nexport class AddImageMissingGeneratedComponent {\n  readonly imagesData = signal<(MapImageData & { id: string })[]>([]);\n\n  generateImage({ id }: { id: string }) {\n    // check if this missing icon is one this function can generate\n    const prefix = 'square-rgb-';\n    if (id.indexOf(prefix) !== 0) {\n      return;\n    }\n\n    // extract the color from the id\n    const rgb = id.replace(prefix, '').split(',').map(Number);\n\n    const width = 64; // The image will be 64 pixels square\n    const bytesPerPixel = 4; // Each pixel is represented by 4 bytes: red, green, blue, and alpha.\n    const data = new Uint8Array(width * width * bytesPerPixel);\n\n    for (let x = 0; x < width; x++) {\n      for (let y = 0; y < width; y++) {\n        const offset = (y * width + x) * bytesPerPixel;\n        data[offset + 0] = rgb[0]; // red\n        data[offset + 1] = rgb[1]; // green\n        data[offset + 2] = rgb[2]; // blue\n        data[offset + 3] = 255; // alpha\n      }\n    }\n    const imageData = {\n      id,\n      width,\n      height: width,\n      data,\n    };\n    this.imagesData.update((imagesData) => [...imagesData, imageData]);\n  }\n}\n"],
  "mappings": "qrBAmBMA,EAAA,EAAA,YAAA,CAAA,yBAAWC,EAAA,KAAAC,EAAAC,EAAA,EAAmB,OAAAD,CAAA,GAsDpC,IAAaE,GAAiC,IAAA,CAAxC,IAAOA,EAAP,MAAOA,CAAiC,CAjE9CC,aAAA,CAkEW,KAAAC,WAAaC,EAA0C,CAAA,CAAE,EAElEC,cAAc,CAAEL,GAAAA,CAAE,EAAkB,CAElC,IAAMM,EAAS,cACf,GAAIN,EAAGO,QAAQD,CAAM,IAAM,EACzB,OAIF,IAAME,EAAMR,EAAGS,QAAQH,EAAQ,EAAE,EAAEI,MAAM,GAAG,EAAEC,IAAIC,MAAM,EAElDC,EAAQ,GACRC,EAAgB,EAChBC,EAAO,IAAIC,WAAWH,EAAQA,EAAQC,CAAa,EAEzD,QAASG,EAAI,EAAGA,EAAIJ,EAAOI,IACzB,QAASC,EAAI,EAAGA,EAAIL,EAAOK,IAAK,CAC9B,IAAMC,GAAUD,EAAIL,EAAQI,GAAKH,EACjCC,EAAKI,EAAS,CAAC,EAAIX,EAAI,CAAC,EACxBO,EAAKI,EAAS,CAAC,EAAIX,EAAI,CAAC,EACxBO,EAAKI,EAAS,CAAC,EAAIX,EAAI,CAAC,EACxBO,EAAKI,EAAS,CAAC,EAAI,GACrB,CAEF,IAAMC,EAAY,CAChBpB,GAAAA,EACAa,MAAAA,EACAQ,OAAQR,EACRE,KAAAA,GAEF,KAAKZ,WAAWmB,OAAQnB,GAAe,CAAC,GAAGA,EAAYiB,CAAS,CAAC,CACnE,yCAjCWnB,EAAiC,sBAAjCA,EAAiCsB,UAAA,CAAA,CAAA,eAAA,CAAA,EAAAC,MAAA,EAAAC,KAAA,GAAAC,OAAA,CAAA,CAAA,EAAA,oBAAA,yBAAA,EAAA,CAAA,EAAA,KAAA,MAAA,EAAA,CAAA,KAAA,SAAA,OAAA,SAAA,EAAA,SAAA,QAAA,CAAA,EAAAC,SAAA,SAAAC,EAAAC,EAAA,CAAAD,EAAA,IA9D1CE,EAAA,EAAA,UAAA,CAAA,EAIEC,EAAA,oBAAA,SAAAC,EAAA,CAAA,OAAqBH,EAAAxB,cAAA2B,CAAA,CAAqB,CAAA,EAG1CC,EAAA,EAAAC,EAAA,EAAA,EAAA,YAAA,EAAAC,CAAA,EAGAtC,EAAA,EAAA,YAAA,CAAA,EA8CFuC,EAAA,SAvDEC,EAAA,wFAAA,EAIAvC,EAAA,0BAAAwC,EAAA,EAAAC,CAAA,CAAA,EAEAC,EAAA,EAAAC,EAAAZ,EAAA1B,WAAA,CAAY,EAMVqC,EAAA,CAAA,EAAA1C,EAAA,SAAA4C,EAAA,GAAAC,EAAAD,EAAA,GAAAE,EAAAC,EAAA,GAAAC,EAAAC,EAAA,GAAAC,EAAAN,EAAA,EAAAO,EAAAX,EAAA,EAAAY,CAAA,CAAA,EAAAZ,EAAA,EAAAa,CAAA,CAAA,EAAAJ,EAAA,GAAAC,EAAAN,EAAA,GAAAO,EAAAX,EAAA,GAAAc,CAAA,CAAA,EAAAd,EAAA,GAAAe,CAAA,CAAA,EAAAN,EAAA,GAAAC,EAAAN,EAAA,GAAAO,EAAAP,EAAA,GAAAY,EAAA,GAAA,CAAA,EAAAhB,EAAA,GAAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAqCE,SAAAb,EAAA,GAAAc,EAAAd,EAAA,GAAAe,EAAAnB,EAAA,GAAAoB,CAAA,CAAA,CAAA,CAAA,kBAUEC,EAAcC,EAAgBC,CAAc,EAAAC,OAAA,CAAA;kDAAA,EAAAC,gBAAA,CAAA,CAAA,EAElD,IAAO9D,EAAP+D,SAAO/D,CAAiC,GAAA",
  "names": ["\u0275\u0275element", "\u0275\u0275property", "imageData_r1", "id", "AddImageMissingGeneratedComponent", "constructor", "imagesData", "signal", "generateImage", "prefix", "indexOf", "rgb", "replace", "split", "map", "Number", "width", "bytesPerPixel", "data", "Uint8Array", "x", "y", "offset", "imageData", "height", "update", "selectors", "decls", "vars", "consts", "template", "rf", "ctx", "\u0275\u0275elementStart", "\u0275\u0275listener", "$event", "\u0275\u0275repeaterCreate", "AddImageMissingGeneratedComponent_For_2_Template", "_forTrack0", "\u0275\u0275elementEnd", "\u0275\u0275styleMap", "\u0275\u0275pureFunction0", "_c0", "\u0275\u0275advance", "\u0275\u0275repeater", "\u0275\u0275pureFunction1", "_c11", "_c10", "\u0275\u0275pureFunction3", "_c9", "\u0275\u0275pureFunction2", "_c4", "_c2", "_c1", "_c3", "_c5", "_c6", "_c7", "_c8", "_c14", "_c13", "_c12", "MapComponent", "ImageComponent", "LayerComponent", "styles", "changeDetection", "_AddImageMissingGeneratedComponent"]
}
