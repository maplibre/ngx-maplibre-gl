import{a as J}from"./chunk-5MI6XPGH.js";import{i as S,j as G,n as T,o as F}from"./chunk-JSMU6KCP.js";import{Cc as c,D as l,Gb as C,Hb as v,L as d,Mb as s,Nb as _,Ob as M,Pb as w,V as m,X as h,Y as g,bb as p,ia as f,sc as a,tb as y,v as r}from"./chunk-WAGYCGY3.js";var P=()=>[14],b=()=>[0,0],j=()=>({preserveDrawingBuffer:!0}),x=()=>({"line-color":"yellow","line-opacity":.75,"line-width":5});function D(o,n){o&1&&w(0,"mgl-geojson-source",1)(1,"mgl-layer",2),o&2&&(s("data",n),p(),s("paint",a(2,x)))}var E=(()=>{let n=class n{constructor(){this.httpClient=f(J),this.geoJson$=this.httpClient.get("assets/data/hike.geo.json").pipe(r(i=>{let e=structuredClone(i),t=e.features[0].geometry.coordinates;return e.features[0].geometry.coordinates=[t[0]],{data:e,coordinates:t}}),m({bufferSize:1,refCount:!0})),this.updatedGeoJson$=this.geoJson$.pipe(g(({data:i,coordinates:e})=>l(200).pipe(h(0),r(t=>e[t]),r(t=>(i.features[0].geometry.coordinates.push(t),{center:t,data:structuredClone(i)})),d(e.length)))),this.updatedGeoJson=S(this.updatedGeoJson$,{initialValue:null}),this.center=c(()=>this.updatedGeoJson()?.center??null),this.data=c(()=>this.updatedGeoJson()?.data??null)}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=y({type:n,selectors:[["showcase-demo"]],decls:2,vars:10,consts:[["movingMethod","jumpTo",3,"mapStyle","zoom","center","centerWithPanTo","pitch","canvasContextAttributes"],["id","trace",3,"data"],["id","trace","type","line","source","trace",3,"paint"]],template:function(e,t){if(e&1&&(_(0,"mgl-map",0),C(1,D,2,3),M()),e&2){let u;s("mapStyle","https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL")("zoom",a(7,P))("center",t.center()??a(8,b))("centerWithPanTo",!0)("pitch",30)("canvasContextAttributes",a(9,j)),p(),v((u=t.data())?1:-1,u)}},dependencies:[F,G,T],styles:[`[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}
/*# sourceMappingURL=examples-UPBTEGPO.css.map */`]});let o=n;return o})();export{E as LiveUpdateFeatureComponent};
//# sourceMappingURL=chunk-HBXZ2CXV.js.map
