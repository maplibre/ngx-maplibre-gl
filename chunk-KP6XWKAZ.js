import{a as G}from"./chunk-VQ3QQDSQ.js";import{i as T,j as F,n as P,o as S}from"./chunk-J37FTXPB.js";import{Bb as C,Cb as v,D as u,Hb as s,Ib as _,Jb as M,Kb as w,L as m,V as d,X as h,Y as f,ab as p,ac as J,ha as g,kc as r,lb as y,uc as c,v as a}from"./chunk-6JYJQWWP.js";var j=()=>[14],x=()=>[0,0],L=()=>({preserveDrawingBuffer:!0}),O=()=>({"line-color":"yellow","line-opacity":.75,"line-width":5});function z(n,o){n&1&&w(0,"mgl-geojson-source",1)(1,"mgl-layer",2),n&2&&(s("data",o),p(),s("paint",r(2,O)))}var A=(()=>{let o=class o{constructor(){this.httpClient=g(G),this.geoJson$=this.httpClient.get("assets/data/hike.geo.json").pipe(a(i=>{let e=structuredClone(i),t=e.features[0].geometry.coordinates;return e.features[0].geometry.coordinates=[t[0]],{data:e,coordinates:t}}),d({bufferSize:1,refCount:!0})),this.updatedGeoJson$=this.geoJson$.pipe(f(({data:i,coordinates:e})=>u(200).pipe(h(0),a(t=>e[t]),a(t=>(i.features[0].geometry.coordinates.push(t),{center:t,data:structuredClone(i)})),m(e.length)))),this.updatedGeoJson=T(this.updatedGeoJson$,{initialValue:null}),this.center=c(()=>this.updatedGeoJson()?.center??null),this.data=c(()=>this.updatedGeoJson()?.data??null)}};o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=y({type:o,selectors:[["showcase-demo"]],decls:2,vars:11,consts:[["movingMethod","jumpTo",3,"zoom","center","centerWithPanTo","pitch","canvasContextAttributes"],["id","trace",3,"data"],["id","trace","type","line","source","trace",3,"paint"]],template:function(e,t){if(e&1&&(_(0,"mgl-map",0),C(1,z,2,3),M()),e&2){let l;J("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),s("zoom",r(8,j))("center",t.center()??r(9,x))("centerWithPanTo",!0)("pitch",30)("canvasContextAttributes",r(10,L)),p(),v((l=t.data())?1:-1,l)}},dependencies:[S,F,P],styles:[`[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}
/*# sourceMappingURL=examples-UPBTEGPO.css.map */`]});let n=o;return n})();export{A as LiveUpdateFeatureComponent};
//# sourceMappingURL=chunk-KP6XWKAZ.js.map
