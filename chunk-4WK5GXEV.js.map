{
  "version": 3,
  "sources": ["projects/showcase/src/app/demo/examples/heatmap.component.ts"],
  "sourcesContent": ["import { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { CircleLayerSpecification } from 'maplibre-gl';\nimport {\n  MapComponent,\n  GeoJSONSourceComponent,\n  LayerComponent,\n} from '@maplibre/ngx-maplibre-gl';\nimport { httpResource } from '@angular/common/http';\n\n@Component({\n  selector: 'showcase-demo',\n  template: `\n    <mgl-map\n      [mapStyle]=\"\n        'https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL'\n      \"\n      [zoom]=\"[3]\"\n      [center]=\"[-103.59179687498357, 40.66995747013945]\"\n      [canvasContextAttributes]=\"{preserveDrawingBuffer: true}\"\n    >\n      @if (earthquakesRs.value(); as earthquakes) {\n        <mgl-geojson-source\n          id=\"earthquakes\"\n          [data]=\"earthquakes\"\n          [cluster]=\"true\"\n          [clusterMaxZoom]=\"15\"\n          [clusterRadius]=\"20\"\n        />\n        @for (layer of clusterLayers; track layer) {\n          <mgl-layer\n            [id]=\"layer.id\"\n            [type]=\"layer.type\"\n            source=\"earthquakes\"\n            [filter]=\"layer.filter\"\n            [paint]=\"layer.paint\"\n          />\n        }\n        <mgl-layer\n          id=\"unclustered-point\"\n          type=\"circle\"\n          source=\"earthquakes\"\n          [filter]=\"['!=', 'cluster', true]\"\n          [paint]=\"{\n            'circle-color': 'rgba(0,255,0,0.5)',\n            'circle-radius': 20,\n            'circle-blur': 1\n          }\"\n        />\n      }\n    </mgl-map>\n  `,\n  styleUrls: ['./examples.css'],\n  imports: [MapComponent, GeoJSONSourceComponent, LayerComponent],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class HeatMapComponent {\n  readonly earthquakesRs = httpResource<GeoJSON.FeatureCollection<GeoJSON.Point>>(() => 'assets/data/earthquakes.geo.json');\n  readonly clusterLayers = this.getClusterLayers();\n\n  getClusterLayers(): CircleLayerSpecification[] {\n    const layersData: [number, string][] = [\n      [0, 'green'],\n      [20, 'orange'],\n      [200, 'red'],\n    ];\n    return layersData.map(\n      (data, index) =>\n      ({\n        type: 'circle',\n        id: `cluster-${index}`,\n        paint: {\n          /* eslint-disable @typescript-eslint/naming-convention */\n          'circle-color': data[1],\n          'circle-radius': 70,\n          'circle-blur': 1,\n          /* eslint-enable @typescript-eslint/naming-convention */\n        },\n        filter:\n          index === layersData.length - 1\n            ? ['>=', 'point_count', data[0]]\n            : [\n              'all',\n              ['>=', 'point_count', data[0]],\n              ['<', 'point_count', layersData[index + 1][0]],\n            ],\n      } as CircleLayerSpecification)\n    );\n  }\n}\n"],
  "mappings": "6bA6BUA,EAAA,EAAA,YAAA,CAAA,yBACEC,EAAA,KAAAC,EAAAC,EAAA,EAAe,OAAAD,EAAAE,IAAA,EACI,SAAAF,EAAAG,MAAA,EAEI,QAAAH,EAAAI,KAAA,4BAZ3BN,EAAA,EAAA,qBAAA,CAAA,EAOAO,EAAA,EAAAC,EAAA,EAAA,EAAA,YAAA,EAAAC,CAAA,EASAT,EAAA,EAAA,YAAA,CAAA,kBAdEC,EAAA,OAAAS,CAAA,EAAoB,UAAA,EAAA,EACJ,iBAAA,EAAA,EACK,gBAAA,EAAA,EAGvBC,EAAA,EAAAC,EAAAC,EAAAC,aAAA,EAaEH,EAAA,CAAA,EAAAV,EAAA,SAAAc,EAAA,EAAAC,CAAA,CAAA,EAAkC,QAAAD,EAAA,EAAAE,CAAA,CAAA,GAc5C,IAAaC,GAAgB,IAAA,CAAvB,IAAOA,EAAP,MAAOA,CAAgB,CA9C7BC,aAAA,CA+CW,KAAAC,cAAgBC,EAAuD,IAAM,kCAAkC,EAC/G,KAAAP,cAAgB,KAAKQ,iBAAgB,EAE9CA,kBAAgB,CACd,IAAMC,EAAiC,CACrC,CAAC,EAAG,OAAO,EACX,CAAC,GAAI,QAAQ,EACb,CAAC,IAAK,KAAK,CAAC,EAEd,OAAOA,EAAWC,IAChB,CAACC,EAAMC,KACN,CACCtB,KAAM,SACND,GAAI,WAAWuB,CAAK,GACpBpB,MAAO,CAEL,eAAgBmB,EAAK,CAAC,EACtB,gBAAiB,GACjB,cAAe,GAGjBpB,OACEqB,IAAUH,EAAWI,OAAS,EAC1B,CAAC,KAAM,cAAeF,EAAK,CAAC,CAAC,EAC7B,CACA,MACA,CAAC,KAAM,cAAeA,EAAK,CAAC,CAAC,EAC7B,CAAC,IAAK,cAAeF,EAAWG,EAAQ,CAAC,EAAE,CAAC,CAAC,CAAC,GAExB,CAElC,yCAhCWR,EAAgB,sBAAhBA,EAAgBU,UAAA,CAAA,CAAA,eAAA,CAAA,EAAAC,MAAA,EAAAC,KAAA,EAAAC,OAAA,CAAA,CAAA,EAAA,WAAA,OAAA,SAAA,yBAAA,EAAA,CAAA,KAAA,cAAA,EAAA,OAAA,UAAA,iBAAA,eAAA,EAAA,CAAA,SAAA,cAAA,EAAA,KAAA,OAAA,SAAA,OAAA,EAAA,CAAA,KAAA,oBAAA,OAAA,SAAA,SAAA,cAAA,EAAA,SAAA,OAAA,CAAA,EAAAC,SAAA,SAAAC,EAAAvB,EAAA,IAAAuB,EAAA,IA3CzBC,EAAA,EAAA,UAAA,CAAA,EAQEC,EAAA,EAAAC,EAAA,EAAA,CAAA,EA6BFC,EAAA,cApCEpC,EAAA,WAAA,wFAAA,EAEC,OAAAc,EAAA,EAAAuB,CAAA,CAAA,EACW,SAAAC,EAAA,EAAAC,EAAA,mBAAA,CAAA,EACuC,0BAAAzB,EAAA,EAAA0B,CAAA,CAAA,EAGnD9B,EAAA,EAAA+B,GAAAC,EAAAjC,EAAAU,cAAAwB,MAAA,GAAA,EAAA,GAAAD,CAAA,kBAgCME,EAAcC,EAAwBC,CAAc,EAAAC,OAAA,CAAA;kDAAA,EAAAC,gBAAA,CAAA,CAAA,EAG1D,IAAO/B,EAAPgC,SAAOhC,CAAgB,GAAA",
  "names": ["\u0275\u0275element", "\u0275\u0275property", "layer_r1", "id", "type", "filter", "paint", "\u0275\u0275repeaterCreate", "HeatMapComponent_Conditional_1_For_2_Template", "\u0275\u0275repeaterTrackByIdentity", "ctx", "\u0275\u0275advance", "\u0275\u0275repeater", "ctx_r1", "clusterLayers", "\u0275\u0275pureFunction0", "_c3", "_c4", "HeatMapComponent", "constructor", "earthquakesRs", "httpResource", "getClusterLayers", "layersData", "map", "data", "index", "length", "selectors", "decls", "vars", "consts", "template", "rf", "\u0275\u0275elementStart", "\u0275\u0275conditionalCreate", "HeatMapComponent_Conditional_1_Template", "\u0275\u0275elementEnd", "_c0", "\u0275\u0275pureFunction1", "_c1", "_c2", "\u0275\u0275conditional", "tmp_4_0", "value", "MapComponent", "GeoJSONSourceComponent", "LayerComponent", "styles", "changeDetection", "_HeatMapComponent"]
}
