import{a as M}from"./chunk-BUCRRE3N.js";import{i as S,j as G,n as T,o as F}from"./chunk-GIP4QCRU.js";import{Bb as C,Cb as v,D as u,Hb as s,Ib as _,Jb as w,Kb as J,L as m,V as d,X as h,Y as f,ab as p,ha as g,jc as r,lb as y,tc as c,v as a}from"./chunk-ESV3RZT2.js";var P=()=>[14],j=()=>[0,0],x=()=>({preserveDrawingBuffer:!0}),L=()=>({"line-color":"yellow","line-opacity":.75,"line-width":5});function O(n,o){n&1&&J(0,"mgl-geojson-source",1)(1,"mgl-layer",2),n&2&&(s("data",o),p(),s("paint",r(2,L)))}var W=(()=>{let o=class o{constructor(){this.httpClient=g(M),this.geoJson$=this.httpClient.get("assets/data/hike.geo.json").pipe(a(i=>{let e=structuredClone(i),t=e.features[0].geometry.coordinates;return e.features[0].geometry.coordinates=[t[0]],{data:e,coordinates:t}}),d({bufferSize:1,refCount:!0})),this.updatedGeoJson$=this.geoJson$.pipe(f(({data:i,coordinates:e})=>u(200).pipe(h(0),a(t=>e[t]),a(t=>(i.features[0].geometry.coordinates.push(t),{center:t,data:structuredClone(i)})),m(e.length)))),this.updatedGeoJson=S(this.updatedGeoJson$,{initialValue:null}),this.center=c(()=>this.updatedGeoJson()?.center??null),this.data=c(()=>this.updatedGeoJson()?.data??null)}};o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=y({type:o,selectors:[["showcase-demo"]],decls:2,vars:10,consts:[["movingMethod","jumpTo",3,"mapStyle","zoom","center","centerWithPanTo","pitch","canvasContextAttributes"],["id","trace",3,"data"],["id","trace","type","line","source","trace",3,"paint"]],template:function(e,t){if(e&1&&(_(0,"mgl-map",0),C(1,O,2,3),w()),e&2){let l;s("mapStyle","https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL")("zoom",r(7,P))("center",t.center()??r(8,j))("centerWithPanTo",!0)("pitch",30)("canvasContextAttributes",r(9,x)),p(),v((l=t.data())?1:-1,l)}},dependencies:[F,G,T],styles:[`[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}
/*# sourceMappingURL=examples-UPBTEGPO.css.map */`]});let n=o;return n})();export{W as LiveUpdateFeatureComponent};
//# sourceMappingURL=chunk-HXJ2JW3L.js.map
